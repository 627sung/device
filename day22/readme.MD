# 데이터베이스

다수의 사용자가 접근할 수 있도록 만들어진 데이터 저장소

# DBMS

DataBase Management System

데이터가 유실될 위험이 크기 때문에 이를 관리할 수 있도록 만들어진 시스템

- Oracle Database
- mySQL
- ms-SQL(SQL server)
- MariaDB
- Durby
- PostgressDB
- MongoDB
- 등등

# Oracle DBMS

## 구조

크게 다음과 같은 사용자 계층으로 구분되어 있다

- 관리자 : 데이터베이스의 전반적인 설정과 성능을 관리할 수 있는 계층
- 사용자 : 데이터베이스의 데이터와 관련된 극히 일부분의 기능만 이용할 수 있는 계층

개발자는 사용자와 관련된 명령들을 위주로 학습하게 되며, 관리자는 극히 일부분만 배운다!

## 기능

- 관리자 : 사용자 제어, 데이터 베이스 관리, 통계, 성능관리 기능 등
- 사용자 : 데이터 객체 제어(테이블, 시퀀스, 인덱스, 뷰, ...) , 데이터 제어(CRUD)

## 보조 도구

DBMS를 조금 더 편하게 이용할 수 있도록 해주는 프로그램

- SQL Developer : 오라클에서 공식적으로 제공해주는 보조 프로그램
- DBeaver : 오픈소스로 개발된 DBMS 보조 프로그램

## 기본 용어 설명

- 사용자 : 독립된 하나의 작업을 수행할 수 있도록 영역을 할당받는 대상
- 권한 : 사용자가 작업을 수행할 수 있도록 부여할 수 있는 단위
- 테이블 : 데이터를 실제로 저장할 수 있는 표 형태의 도구
- 시퀀스 : 데이터에 번호를 부여할 수 있도록 해주는 도구
- 인덱스 : 테이블에 설정할 수 있는 색인 도구
- 뷰 : 테이블을 이용하여 만들어내는 가상의 테이블

# 오라클 주요 명령

오라클 명령은 대소문자를 구분하지 않으며 예약어는 일반적으로 대문자로 사용한다.

## 관리자 명령

### 로그인

```sql
CONN 아이디/비밀번호;
```

### 관리자 로그인

```sql
CONN system/설치시 입력한 비밀번호;
```

### 오라클 18c에서의 사용자 아이디 옵션 변경

```sql
alter session set "_ORACLE_SCRIPT"=true;
```

### 사용자 생성

```sql
create user 아이디 identified by 비밀번호;
```

### 사용자 조회

```sql
select username from dba_users;
```

### 사용자 제거

```sql
drop user 아이디;
```

### 사용자 비밀번호 변경

```sql
alter user 아이디 identified by 변경할비밀번호;
```

### 권한 부여

```sql
grant 권한들... to 아이디;
```

### 권한 회수

```sql
revoke 권한들... from 아이디;
```

### 서비스 포트 확인

```sql
select dbms_xdb.gethttpport() from dual;
```

### 서비스 포트 설정

```sql
exec dbms_xdb.sethttpport(포트번호);
```

## 사용자 명령

### 테이블 생성

```sql
create table 이름(항목 형식 [조건], ...);
```

### 테이블 확인

```sql
select * from tab;
```

### 테이블 상세정보

```sql
desc 테이블이름;
```

### 테이블 변경

```sql
alter table 이름 [옵션];
```

### 테이블 삭제

```sql
drop table 이름;
```

### 오라클 데이터 타입

오라클에는 다양한 종류의 데이터가 존재하며, 자주 쓰이는 항목들은 다음과 같다.

- `number` : 정수/실수를 모두 포함하는 숫자 데이터
- `char` : 고정 문자열. 실제 사용량과 관계없이 고정 크기로 만들기 때문에 속도가 빠르고 효율이 낮음
	- ex : 생년월일, 시간, 일련번호 등 자리가 고정인 경우 사용
- `varchar2` : 가변 문자열. 최대치만 정해두고 실제 크기에 맞게 만들기 때문에 효율이 높고 속도가 느림
	- ex : 이름, 아이디, 닉네임 등
- `date` : 날짜 형태를 표현하기 위해서 사용
	- 연,월,일,시,분,초,밀리초 1자리까지 표현할 수 있음

### 데이터 추가

데이터는 create로 추가하지 않는다(생성만 create)

`insert into`라는 키워드를 이용해서 이미 만들어진 테이블 안에 추가하는 개념이다

```sql
insert into 테이블이름 values(값....);
```























